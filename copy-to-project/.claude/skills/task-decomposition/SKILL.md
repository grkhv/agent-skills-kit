---
name: task-decomposition
description: Декомпозиция сложных задач на шаги. Используй когда задача большая (3+ файлов) или нечёткая.
---

При сложной или нечёткой задаче — СНАЧАЛА декомпозируй, ПОТОМ выполняй.

## Когда применять

- Задача затрагивает 3+ файлов
- Нет чёткого описания "что делать"
- Разные типы работы (код + тесты + docs)

## Алгоритм

### 1. Уточни цель
```
1. Конечная цель: <что должно работать>
2. Критерии готовности: <как понять что сделано>
3. Ограничения: <что НЕ менять>
```

### 2. Разбей на шаги

Каждый шаг:
- **Атомарный** — выполняется за 1-3 минуты
- **Проверяемый** — есть команда/способ проверки

```
[ ] Шаг N: <действие>
    Файлы: <список>
    Проверка: <команда>
```

### 3. Feedback loop

После КАЖДОГО шага:
1. Выполни
2. Проверь
3. Отметь `[x]`
4. Сообщи статус

## Интеграция с TodoWrite

```
TodoWrite([
  {content: "Шаг 1: ...", status: "completed"},
  {content: "Шаг 2: ...", status: "in_progress"},
])
```

## Когда НЕ применять

- Простая правка 1-2 файлов
- Задача чётко описана
- Исследование/поиск
