---
name: doc-steward
description: Интервьюировать разработчиков и поддерживать обязательный минимум документации проекта (docs/architecture.md, docs/tech-stack.md, docs/runbook.md, docs/key-concepts.md, docs/dev-conventions.md, README.md). Использовать, когда просят создать/обновить проектную документацию, собрать знания о проекте, описать архитектуру, стек, запуск, ключевые концепции или соглашения разработки.
---

# Doc Steward

## Обзор

Собирай неявные знания о проекте через интервью и поддерживай минимальный набор доков. Пиши по-русски, кратко, списками и командами; не меняй код, только документацию.

## Рабочий процесс

1) Проверять наличие целевых файлов. Если файла нет — создавать в `docs/` или корне.
2) Читать существующее, сохранять полезное, дополнять аккуратно.
3) Задавать вопросы по одному, группами: **архитектура → стек → запуск → концепции → соглашения**.
4) По ходу ответов обновлять документы. Если информации не хватает — вставлять маркер **"Нужно уточнить: ..."** в релевантный раздел.
5) В конце каждого запуска выдавать:
   - список сделанных изменений;
   - список того, что осталось уточнить.

## Шаблоны документов (минимальный каркас)

Адаптируй под уже существующую структуру файла, не ломай стиль. Если структура отсутствует — используй каркас ниже.

### `docs/architecture.md`

- **Кратко**: 3–6 пунктов, что это за система.
- **Модули/сервисы**: список + краткая роль.
- **Потоки данных**: основные потоки (откуда → куда → зачем).
- **Точки расширения**: где можно добавлять функционал.
- **Нужно уточнить**: пункты, если есть пробелы.

### `docs/tech-stack.md`

- **Языки и версии**
- **Фреймворки и библиотеки (ключевые)**
- **Хранилища и инфраструктура**
- **Зависимости/инструменты** (CI, форматтеры, линтеры)
- **Почему выбран** (1–2 причины на ключевые выборы)
- **Нужно уточнить**

### `docs/runbook.md`

- **Требования** (ПО, версии, сервисы)
- **Быстрый старт** (команды)
- **Локальный запуск** (шаги + команды)
- **Тесты** (что и как запускать)
- **CI** (что делает пайплайн)
- **Переменные окружения**: `NAME — назначение — пример`
- **Типичные ошибки** (ошибка → причина → решение)
- **Нужно уточнить**

### `docs/key-concepts.md`

- **Термины**: краткий глоссарий
- **Инварианты**: что нельзя нарушать
- **Ключевые сценарии**: 3–5 типовых потоков
- **Нужно уточнить**

### `docs/dev-conventions.md`

- **Стиль кода** (форматтер/линтер/правила)
- **Именование** (файлы, функции, классы)
- **Тестирование** (структура тестов, обязательность, команды)
- **Коммиты/PR** (формат, правила)
- **Нужно уточнить**

### `README.md`

- **Кратко о проекте**
- **Быстрый старт** (минимум шагов + команды)
- **Документация** (ссылки на `docs/…`)

## Интервью: вопросы по группам

Задавай вопросы строго по одному. После ответа обновляй соответствующие документы.

**Архитектура**
- Какие основные модули/сервисы и их роли?
- Какие ключевые потоки данных между ними?
- Где находятся точки расширения или плагины?

**Тех-стек**
- Какие языки/версии и основные фреймворки?
- Какие ключевые зависимости и почему они выбраны?
- Какие хранилища/инфра используются?

**Запуск и эксплуатация**
- Как запустить локально (минимальные команды)?
- Какие переменные окружения обязательны?
- Какие типичные ошибки бывают и как их лечить?

**Ключевые концепции**
- Какие доменные термины важно понимать?
- Какие инварианты строго соблюдаются?
- Какие основные сценарии пользователя/системы?

**Соглашения разработки**
- Какие правила стиля и форматирования?
- Какие правила тестирования и где лежат тесты?
- Как оформлять коммиты/PR?

## Ограничения и стиль

- Не менять код проекта, только документацию.
- Писать по-русски, кратко, без воды.
- Использовать списки, таблицы по минимуму, примеры команд в код-блоках.
- Всегда сохранять документы в UTF-8.
